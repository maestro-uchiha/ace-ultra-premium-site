<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>404 - Not Found | Ace Ultra Premium</title>
  <meta name="description" content="Premium Ace Ultra Premium | quality, reliability, trust.">
  <link rel="canonical" href="index.html">

  <!-- Open Graph -->
  <meta property="og:title" content="404 - Not Found | Ace Ultra Premium">
  <meta property="og:description" content="Premium Ace Ultra Premium | quality, reliability, trust.">
  <meta property="og:image" content="assets/img/og.jpg">
  <meta property="og:type" content="website">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">

  <link rel="icon" href="assets/favicon.ico">
  <!-- Give CSS an id so we can rewrite it -->
  <link id="asdcss" rel="stylesheet" href="assets/css/style.css">

  <!-- Auto-detect correct project root for deep 404s; set <base> + fix CSS -->
  <script>
    (function(){
      var head = document.getElementsByTagName('head')[0];
      var css  = document.getElementById('asdcss');

      function probe(url, cb){
        fetch(url, {method:'HEAD', cache:'no-store'}).then(function(r){ cb(r.ok); })
          .catch(function(){ cb(false); });
      }

      // Build candidate roots from current path: /user/repo/a/b/ -> try /user/repo/a/b/, /user/repo/a/, /user/repo/, /
      var segs  = location.pathname.split('/').filter(Boolean);
      var roots = [];
      for (var i=0; i<=segs.length; i++){
        roots.push('/' + segs.slice(0,i).join('/') + '/');
      }
      roots.reverse();

      (function tryNext(){
        if (!roots.length) return; // leave links as-is if nothing matches
        var base = roots.shift();
        var candidateCss = base + 'assets/css/style.css';
        probe(candidateCss, function(ok){
          if (ok) {
            // 1) set <base> so all relative links (blog/, index.html, etc.) resolve from the project root
            var existingBase = document.querySelector('base');
            if (!existingBase) {
              var b = document.createElement('base');
              b.setAttribute('href', base);
              head.insertBefore(b, head.firstChild);
            } else {
              existingBase.setAttribute('href', base);
            }
            // 2) fix CSS href to absolute-within-project
            if (css) css.href = candidateCss;
          } else {
            tryNext();
          }
        });
      })();
    })();
  </script>

  <link rel="alternate" type="application/rss+xml" title="Ace Ultra Premium Blog" href="feed.xml">
</head>
<body>
  <header>
    <h1><a href="index.html">Ace Ultra Premium</a></h1>

    <button id="navToggle" class="nav-toggle" aria-expanded="false" aria-controls="site-nav" aria-label="Open menu">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>

    <nav id="site-nav">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="blog/">Blog</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="legal/privacy.html">Privacy</a></li>
        <li><a href="legal/terms.html">Terms</a></li>
        <li><a href="sitemap.html">Sitemap</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h1>404 - Not Found</h1>
    <p>That page doesn't exist. <a href="index.html">Return home</a>.</p>
  </main>

  <footer>
    <p>
      <a href="index.html">Home</a> |
      <a href="blog/">Blog</a> |
      <a href="about.html">About</a> |
      <a href="contact.html">Contact</a> |
      <a href="legal/privacy.html">Privacy</a> |
      <a href="legal/terms.html">Terms</a> |
      <a href="sitemap.html">Sitemap</a>
    </p>
    <p>&copy; 2025 Ace Ultra Premium. All rights reserved.</p>
  </footer>

  <!-- Redirect fallback (reads redirects.json) -->
  <script>
    (function(){
      function wildcardToRegex(p){
        return new RegExp('^' + p.replace(/[.+?^${}()|[\\]\\\\]/g,'\\$&').replace(/\*/g,'.*') + '$');
      }
      var prefix = document.documentElement.getAttribute('data-prefix') || '/';
      fetch(prefix + 'redirects.json', {cache:'no-store'})
        .then(function(r){ return r.ok ? r.json() : []; })
        .then(function(list){
          var path = location.pathname;
          if (prefix !== '/' && path.indexOf(prefix) === 0) {
            path = path.substring(prefix.length - 1); // keep leading '/'
          }
          for (var i=0;i<list.length;i++){
            var item = list[i]; if (!item || item.disabled === true) continue;
            var from = String(item.from||''); var to = String(item.to||'');
            if (!from || !to) continue;
            if (wildcardToRegex(from).test(path)) {
              var target = new URL(to, location.origin + prefix);
              target.search = location.search;
              target.hash   = location.hash;
              location.replace(target.href);
              return;
            }
          }
        })
        .catch(function(){});
    })();
  </script>
</body>
</html>
